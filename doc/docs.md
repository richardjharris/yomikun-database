## Summary of data flow

 - Each source is parsed into a JSONL file in the `jsonl/` folder.

 - db/deduped.json dedupes people across multiple sources
    {kaki, yomi, authenticity, lifetime, source, tags} for people + non-people

 - db/gender.json generated from above
    {kaki, yomi, ml_score, ct_score, hits_male etc}

 - data/romajidb.tsv.gz also generated from above
    {kaki, romaji, part, yomi+}

- db/aggregated.json takes deduped and converts to sqlite schema by aggegating
  hits per name:
    {kaki, yomi, part, ml_score, hits_*}

 - db/final.db loads this data into sqlite

## Directory structure

- data: raw data used by other scripts
- jsonl: prepared name data generated by scripts/data sources for assembly
  into the final database, in JSONL format
- db: final output files
- docs: documentation and other notes
- scripts: command line scripts
- tests: global unit tests (other tests are inside each .py file)
- tmp: tmp directory for makefile (sorts etc)
- yomikun: python code
 - aggregator - dedupes people, aggregates hit counts per name
 - commands - CLI subcommand logic
 - custom_data - Handles CSV custom data files
 - gender - name to gender guesser
 - jmnedict - related to JMnedict parsing
 - models - general-purpose classes used by everything (NameData is the most important)
 - parsers - parsing code
   - epwing - EPWING dictionary parsers
   - wikidata - WikiData (EN, JA)
   - wikipedia_en - Wikipedia EN
   - wikipedia_ja - Wikipedia JA
 - scripts - CLI entrypoint
 - sqlite - builds the final SQLite database
 - utils - code used by everything (e.g. romaji to kana conversion, regexes)

## Special terms

* mei - first/given name
* sei - surname
* kaki - written form of name, typically kanji, sometimes kana
* yomi - reading form of name (pronounciation)
* NameData format - see `formats.md`
* 'Custom data' format - see `formats.md`
